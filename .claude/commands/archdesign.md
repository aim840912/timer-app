---
description: "系統架構設計（使用 ultrathink）"
---

# Architecture Design with Ultrathink

ultrathink 請為以下需求設計系統架構：

$ARGUMENTS

## 設計要求：

### 1. 需求分析
- 功能需求清單
- 非功能需求（效能、可擴展性、可維護性）
- 預期的使用者規模和流量
- 技術限制和約束

### 2. 架構選項評估

請評估至少 3 種架構方案，對每種方案分析：

#### 方案 A
- **描述**：
- **優點**：
- **缺點**：
- **適用場景**：
- **技術堆疊**：
- **預估成本**：

#### 方案 B
[同上]

#### 方案 C
[同上]

### 3. 推薦方案詳細設計

#### 3.1 系統架構圖
```
[使用 ASCII 或 Mermaid 繪製架構圖]
```

#### 3.2 技術堆疊
- **前端**：
- **後端**：
- **資料庫**：
- **快取**：
- **訊息佇列**：
- **部署**：

#### 3.3 資料模型設計
```typescript
// 關鍵的資料結構和 schema
```

#### 3.4 API 設計
- 端點清單
- 請求/回應格式
- 錯誤處理
- 速率限制

#### 3.5 安全性設計
- 認證機制
- 授權策略
- 資料加密
- 攻擊防護

#### 3.6 效能優化策略
- 快取策略
- 資料庫索引
- CDN 使用
- 負載平衡

### 4. 實作路線圖

#### 階段 1：MVP（最小可行產品）
- [ ] 任務清單
- 預估時間：
- 關鍵里程碑：

#### 階段 2：功能完善
[同上]

#### 階段 3：優化和擴展
[同上]

### 5. 風險評估

| 風險 | 影響 | 機率 | 應對策略 |
|------|------|------|---------|
| [風險1] | 高/中/低 | 高/中/低 | [策略] |

### 6. 專案脈絡考量

確保設計考慮到：
- ✅ Next.js 15 最佳實踐
- ✅ TypeScript strict mode
- ✅ Supabase Row Level Security
- ✅ Redis 快取策略
- ✅ CLAUDE.md 開發規範
- ✅ 測試覆蓋率目標

## 最終建議

[總結推薦方案、關鍵決策點和下一步行動]
