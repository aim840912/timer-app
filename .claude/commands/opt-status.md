---
description: "查看完整優化歷史和狀態"
---

# 優化歷史查詢 (Optimization Status)

查詢並顯示專案的優化歷史，包括已實施、待評估和已拒絕的優化項目。

**用法**：
- `/opt-status` - 顯示完整優化歷史
- `/opt-status pending` - 僅顯示待評估項目
- `/opt-status rejected` - 僅顯示已拒絕項目

**參數**：$ARGUMENTS

---

## 執行步驟

### 1. 檢查優化歷史文檔是否存在

```bash
# 檢查文檔是否存在
ls -la docs/optimization/OPTIMIZATION_HISTORY.md
```

**如果文檔不存在**：
- 提示使用者：「優化歷史文檔尚未建立（`docs/optimization/OPTIMIZATION_HISTORY.md`）」
- 詢問是否需要建立初始文檔
- 停止執行

### 2. 讀取並解析優化歷史

```bash
# 讀取文檔內容
Read docs/optimization/OPTIMIZATION_HISTORY.md
```

### 3. 根據參數顯示對應內容

**無參數（預設）**：
- 顯示完整優化歷史
- 包含：已實施項目、待評估項目、已拒絕項目

**參數 = `pending`**：
- 僅顯示「待評估優化」區塊
- 標示優先級和預期效果

**參數 = `rejected`**：
- 僅顯示「已評估但未實施」區塊
- 標示拒絕原因

---

## 輸出格式

### ✅ 已實施優化（X 項）

**效能優化**
- [項目名稱] - [實施日期]
  - 預期效果：[...]
  - 實際效果：[...]
  - Commit: [hash]

**架構改進**
- [項目名稱] - [實施日期]
  - [詳細資訊]

### 📋 待評估優化（Y 項）

**按優先級排序**
- ⭐⭐⭐⭐⭐ [項目名稱]
  - 預期效果：[...]
  - 風險評估：[...]
  - 建議時程：[...]

### ❌ 已評估但未實施（Z 項）

- [項目名稱]
  - 拒絕原因：[...]
  - 評估日期：[...]

---

## 重要提醒

**⚠️ 為什麼需要檢查優化歷史？**

1. **避免重複建議** - 不要建議已實施的優化
2. **了解拒絕原因** - 某些優化已被評估但有合理理由不實施
3. **掌握專案狀態** - 了解當前的優化進度和效能指標
4. **優先級參考** - 待評估項目已有優先級排序

**建議使用時機**：
- 在提出任何優化建議前
- 在規劃新功能前（了解當前效能狀態）
- 定期檢視專案技術債狀態

---

## 使用範例

```bash
# 查看完整優化歷史
/opt-status

# 只看待處理項目
/opt-status pending

# 查看已拒絕項目（避免重複建議）
/opt-status rejected
```
